<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>دليل الشبكات وتسجيل الدخول واللعبة</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
    html,body{overflow-x:hidden;margin:0;padding:0;font-family:'Cairo',sans-serif;background:#f5f5f5;min-height:100vh;color:#222}
    header{background:#283593;color:#fff;padding:18px 16px;text-align:center;position:relative}
    header h1{margin:0;font-size:20px;font-weight:700}
    header nav{margin-top:10px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
    header nav button{margin:0;padding:8px 12px;border:none;border-radius:8px;cursor:pointer;font-weight:600;background:transparent;color:#fff}
    header nav button.active{background:#1565c0}
    .header-back-btn{position:absolute;left:12px;top:14px;padding:8px 12px;background:#ef6c00;color:#fff;border:none;border-radius:8px;cursor:pointer;display:none}
    .page{display:none;padding:16px}
    .page.active{display:block}
    .intro{max-width:1000px;margin:0 auto 20px;background:#f3e5f5;padding:16px;border-radius:10px;line-height:1.6;color:#333}
    .search-box{max-width:720px;margin:12px auto;display:flex;gap:8px}
    .search-box input{flex:1;padding:10px;border-radius:8px;border:1px solid #ccc}
    .search-box button{padding:10px 14px;background:#1565c0;color:#fff;border:none;border-radius:8px;cursor:pointer}
    main.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;max-width:1200px;margin:10px auto}
    .card{border-radius:14px;padding:16px;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.12);min-height:170px;display:flex;flex-direction:column;justify-content:space-between}
    .card h3{margin:0 0 8px 0;font-size:18px}
    .card p{margin:0;color:rgba(255,255,255,0.95)}
    .card .btn{align-self:flex-start;margin-top:12px;padding:8px 12px;background:rgba(0,0,0,0.12);border-radius:8px;color:#fff;border:none;cursor:pointer}
    .card.lan{background:linear-gradient(135deg,#1976d2,#64b5f6)}
    .card.wan{background:linear-gradient(135deg,#ef6c00,#ffb74d)}
    .card.wlan{background:linear-gradient(135deg,#7b1fa2,#ba68c8)}
    .card.wwan{background:linear-gradient(135deg,#2e7d32,#81c784)}
    .card.pan{background:linear-gradient(135deg,#00897b,#4db6ac)}
    .card.man{background:linear-gradient(135deg,#6a1b9a,#ab47bc)}
    .card.intranet{background:linear-gradient(135deg,#00838f,#4dd0e1)}
    .card.extranet{background:linear-gradient(135deg,#c62828,#ef9a9a)}
    .card.internet{background:linear-gradient(135deg,#00695c,#26a69a)}
    .btn{margin-top:10px;padding:8px 12px;background:#1565c0;color:#fff;border:none;border-radius:8px;cursor:pointer}
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;z-index:2000;padding:16px}
    .modal.open{display:flex}
    .modal-card{background:#fff;padding:18px;border-radius:12px;max-width:920px;max-height:85vh;overflow-y:auto;box-shadow:0 8px 30px rgba(0,0,0,0.2)}
    .modal-card h2{margin-top:0}
    .modal-card ul{line-height:1.6}
    footer{background:#1b5e20;color:#fff;text-align:center;padding:14px;margin-top:20px;font-weight:600}
    .auth-container{max-width:560px;margin:6px auto;background:#fff;padding:18px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.12)}
    .tabs{display:flex;justify-content:space-around;margin-bottom:12px;border-bottom:2px solid #eee}
    .tabs button{flex:1;padding:10px;background:none;border:none;cursor:pointer;font-weight:600}
    .tabs button.active{color:#1565c0;border-bottom:3px solid #1565c0}
    .form-section{display:none}
    .form-section.active{display:block}
    .auth-container input{width:100%;padding:12px;margin:8px 0;border:1px solid #ccc;border-radius:8px}
    .auth-container button.submit{width:100%;padding:12px;background:linear-gradient(90deg,#1565c0,#2e7d32);border:none;border-radius:8px;color:#fff;font-size:15px;font-weight:600;cursor:pointer;margin-top:10px}
    .quiz-container{max-width:980px;margin:12px auto;background:#fff;padding:18px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.12)}
    .quiz-question{margin-bottom:10px;font-weight:700}
    .quiz-options label{display:block;margin-bottom:8px;padding:10px;background:#f5f5f5;border-radius:8px;cursor:pointer}
    .quiz-result{margin-top:12px;font-weight:700}
    .back-btn{margin-top:16px;padding:10px 16px;background:#ef6c00;color:#fff;border:none;border-radius:8px;cursor:pointer}
    @media (max-width:600px){
      header h1{font-size:16px}
      .modal-card{padding:14px}
      .card{min-height:140px;padding:12px}
      .search-box{padding:0 8px}
      .auth-container{padding:14px}
    }
  </style>
</head>
<body>
  <header>
    <h1>دليل الشبكات وطرق الحماية</h1>
    <button id="headerBackBtn" class="header-back-btn">⬅️ رجوع</button>
    <nav>
      <button id="networksTab" class="active">📡 الشبكات</button>
      <button id="loginTab">🔑 تسجيل الدخول</button>
      <button id="quizTab">🎮 اللعبة</button>
    </nav>
  </header>

  <!-- صفحة الشبكات -->
  <div id="networksPage" class="page active">
    <section class="intro">
      <h2>مقدمة موسعة عن الشبكات</h2>
      <p>الشبكات تمثل العمود الفقري للعصر الرقمي الحديث. من خلال الشبكات يمكننا مشاركة الموارد والمعلومات بين الأجهزة المختلفة سواء في المنزل أو المؤسسات أو على مستوى العالم. هناك أنواع عديدة من الشبكات؛ كل نوع له خصائصه ومخاطره وطرق حمايته.</p>
      <p>اضغط على أي بطاقة لعرض: <strong>الوصف الكامل</strong>، <strong>الثغرات</strong> مع شرح عملي، و<strong>طرق الحماية</strong> قابلة للتطبيق، بالإضافة لنصائح سريعة.</p>
    </section>

    <div class="search-box">
      <input id="searchInput" placeholder="ابحث عن نوع شبكة أو ثغرة...">
      <button id="searchBtn">بحث</button>
    </div>

    <main class="grid" id="grid"></main>
  </div>

  <!-- مودال التفاصيل -->
  <div id="infoModal" class="modal" onclick="if(event.target===this) closeModal()">
    <div class="modal-card" role="dialog" aria-modal="true">
      <button onclick="closeModal()" style="float:left;padding:8px 12px;border-radius:8px;border:none;background:#ddd;cursor:pointer">إغلاق</button>
      <div id="modalContent" style="clear:both"></div>
    </div>
  </div>

  <!-- تسجيل الدخول -->
  <div id="loginPage" class="page">
    <div class="auth-container">
      <div class="tabs">
        <button id="loginFormTab" class="active">تسجيل الدخول</button>
        <button id="signupFormTab">إنشاء حساب</button>
      </div>

      <div id="loginSection" class="form-section active">
        <form id="loginForm">
          <input type="email" id="loginEmail" placeholder="البريد الإلكتروني" required>
          <input type="password" id="loginPassword" placeholder="كلمة المرور" required>
          <button type="submit" class="submit">دخول</button>
        </form>
      </div>

      <div id="signupSection" class="form-section">
        <form id="signupForm">
          <input type="text" id="signupName" placeholder="الاسم الكامل" required>
          <input type="email" id="signupEmail" placeholder="البريد الإلكتروني" required>
          <input type="password" id="signupPassword" placeholder="كلمة المرور" required>
          <input type="password" id="signupPassword2" placeholder="تأكيد كلمة المرور" required>
          <button type="submit" class="submit">إنشاء الحساب</button>
        </form>
      </div>

      <div style="margin-top:12px;text-align:center">
        <button id="logoutBtn" style="display:none;" class="btn">تسجيل الخروج</button>
      </div>
    </div>
  </div>

  <!-- اللعبة -->
  <div id="quizPage" class="page">
    <div class="quiz-container">
      <div id="quizNotice" style="margin-bottom:12px;color:#b71c1c;font-weight:700">🔒 يجب تسجيل الدخول للعب.</div>
      <div id="quizContent" style="display:none">
        <div id="quiz"></div>
        <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
          <button class="btn" id="checkQuiz">تحقق من الإجابات</button>
          <button class="btn" id="restartQuiz">إعادة اللعبة</button>
        </div>
        <div id="quizResult" class="quiz-result"></div>
        <button class="back-btn" id="backToNetworks">⬅️ الرجوع لصفحة الشبكات</button>
      </div>
    </div>
  </div>

  <footer>© جميع الحقوق محفوظة 2025 — محمد العويس</footer>

  <script>
    /***** الحالة العامة *****/
    let isLoggedIn = false;

    // عناصر التنقل
    const networksTab = document.getElementById('networksTab');
    const loginTab = document.getElementById('loginTab');
    const quizTab = document.getElementById('quizTab');
    const networksPage = document.getElementById('networksPage');
    const loginPage = document.getElementById('loginPage');
    const quizPage = document.getElementById('quizPage');
    const headerBackBtn = document.getElementById('headerBackBtn');

    // زر رجوع هيدر
    headerBackBtn.addEventListener('click', () => { showPage('networks'); });

    function toggleHeaderBackBtn(show) {
      headerBackBtn.style.display = show ? 'inline-block' : 'none';
    }

    function showPage(page) {
      [networksPage, loginPage, quizPage].forEach(p => p.classList.remove('active'));
      [networksTab, loginTab, quizTab].forEach(b => b.classList.remove('active'));
      if (page === 'networks') { networksPage.classList.add('active'); networksTab.classList.add('active'); toggleHeaderBackBtn(false); }
      if (page === 'login') { loginPage.classList.add('active'); loginTab.classList.add('active'); toggleHeaderBackBtn(true); }
      if (page === 'quiz') {
        if (!isLoggedIn) { alert('يجب تسجيل الدخول أولاً للعب'); showPage('login'); return; }
        quizPage.classList.add('active'); quizTab.classList.add('active'); toggleHeaderBackBtn(true);
      }
    }

    networksTab.onclick = () => showPage('networks');
    loginTab.onclick = () => showPage('login');
    quizTab.onclick = () => showPage('quiz');

    /***** بيانات الشبكات (وصف + ثغرات + حماية) *****/
    const networks = [
      {
        id: 'lan',
        title: 'الشبكة المحلية (LAN)',
        desc: 'تربط أجهزة داخل مساحة صغيرة (مكتب، منزل). تتميز بسرعات عالية وتأخير منخفض، وتستخدم عادة سويتش/راوتر داخلي.',
        vul: [
          { t: 'الوصول غير المصرح به', d: 'أجهزة أو منافذ تترك بدون حماية أو بكلمات مرور افتراضية.' },
          { t: 'التنصت (MITM)', d: 'هجوم يتيح للمهاجم اعتراض أو تعديل حركة المرور داخل نفس الشبكة.' },
          { t: 'أجهزة غير محدثة', d: 'راوترات أو سويتشات قديمة تحتوي على ثغرات معروفة.' }
        ],
        prot: [
          { t: 'تغيير كلمات المرور الافتراضية', d: 'تعيين كلمات مرور قوية وفريدة لجميع الأجهزة.' },
          { t: 'تفعيل جدار حماية', d: 'استخدام سياسات للسماح/رفض للحركة الداخلية.' },
          { t: 'تحديثات firmware', d: 'تطبيق التصحيحات الأمنية بانتظام.' },
          { t: 'عزل VLAN', d: 'عزل الأجهزة الحساسة من باقي الشبكة.' }
        ]
      },
      {
        id: 'wan',
        title: 'الشبكة الواسعة (WAN)',
        desc: 'تربط شبكات محلية عبر مسافات طويلة عن طريق مزودي خدمة؛ تتضمن وصلات بين الفروع والإنترنت.',
        vul: [
          { t: 'اعتراض الحزم', d: 'التنصت على المرور بين النقاط (خاصة إن لم يتم تشفيره).' },
          { t: 'هجمات DDoS', d: 'محاولة إغراق النطاق الترددي أو الموارد على نقاط الربط.' },
          { t: 'ثغرات معدات المزود', d: 'مشكلات في أجهزة مزود الخدمة قد تؤثر على العملاء.' }
        ],
        prot: [
          { t: 'VPN/MPLS', d: 'تشفير القنوات بين الفروع لحماية المرور.' },
          { t: 'جدران حماية على الحافة', d: 'تصفية المرور وحماية نقاط الربط.' },
          { t: 'مراقبة الشبكة', d: 'استخدام أنظمة كشف/منع وتدقيق الشبكة.' }
        ]
      },
      {
        id: 'wlan',
        title: 'الشبكة اللاسلكية (WLAN)',
        desc: 'شبكات الواي فاي المحلية؛ تربط الأجهزة بدون كابل داخل مبانٍ ومنازل.',
        vul: [
          { t: 'نقاط وصول مزيفة (Evil Twin)', d: 'محطة مزيفة تغرر بالمستخدمين للاتصال وسرقة بياناتهم.' },
          { t: 'تشفير ضعيف (WEP)', d: 'بروتوكولات تشفير قديمة يسهل اختراقها.' },
          { t: 'WPS معرض للاختراق', d: 'ميزة الاقتران قد تسمح بالوصول غير المرغوب.' }
        ],
        prot: [
          { t: 'WPA3 أو WPA2-AES', d: 'استخدام تشفير قوي للواي فاي.' },
          { t: 'شبكة ضيوف منفصلة', d: 'عزل الزوار عن الشبكة الداخلية.' },
          { t: 'تعطيل WPS', d: 'إيقاف ميزات الاقتران غير الآمنة وتحديث الراوتر.' }
        ]
      },
      {
        id: 'wwan',
        title: 'الشبكة الخلوية (WWAN)',
        desc: 'شبكات الجوال (3G/4G/5G) لتغطية مساحات واسعة بواسطة أبراج الاتصالات.',
        vul: [
          { t: 'أبراج مزيفة (IMSI Catchers)', d: 'أجهزة تتنصت على اتصال الهواتف وتقارب الهوية.' },
          { t: 'تطبيقات ضارة', d: 'تطبيقات تمنح صلاحيات أو تتسرب بيانات.' }
        ],
        prot: [
          { t: 'تحديث النظام والتطبيقات', d: 'تثبيت آخر التحديثات الأمنية.' },
          { t: 'استخدام VPN', d: 'تشفير الحركة عند الاتصال عبر شبكات عامة.' }
        ]
      },
      {
        id: 'pan',
        title: 'الشبكة الشخصية (PAN)',
        desc: 'شبكات قصيرة المدى مثل البلوتوث وUSB بين أجهزة المستخدم.',
        vul: [
          { t: 'بلوتوث قابل للاكتشاف', d: 'الأجهزة القابلة للاكتشاف تتعرض لاتصالات غير مرغوبة.' },
          { t: 'نشر برمجيات عبر USB', d: 'وحدات تخزين قد تحتوي برمجيات خبيثة.' }
        ],
        prot: [
          { t: 'اجعل البلوتوث غير قابل للاكتشاف', d: 'فقط تفعيل الاكتشاف أثناء الاقتران.' },
          { t: 'فحص وسائط USB', d: 'فحص الفلاشات قبل الاستخدام باستخدام مضاد فيروسات.' }
        ]
      },
      {
        id: 'man',
        title: 'الشبكة الحضرية (MAN)',
        desc: 'شبكة تغطي مدينة أو منطقة كبيرة وتربط مؤسسات متعددة داخلها.',
        vul: [
          { t: 'مشاركة البنية التحتية', d: 'خلل في جزء مشترك يؤثر على عدة جهات.' },
          { t: 'اعتراض روابط', d: 'روابط غير مشفرة معرضة للتنصت.' }
        ],
        prot: [
          { t: 'تشفير الروابط', d: 'استخدام TLS/VPN للقنوات بين المواقع.' },
          { t: 'مراقبة متقدمة', d: 'نشر IDS/IPS ومراجعة السجلات.' }
        ]
      },
      {
        id: 'intranet',
        title: 'الإنترانت (Intranet)',
        desc: 'شبكة داخلية خاصة بالمؤسسة لتبادل المعلومات داخلياً.',
        vul: [
          { t: 'صلاحيات مفرطة', d: 'منح صلاحيات أوسع من اللازم يؤدي لتسريبات.' },
          { t: 'تهديدات داخلية', d: 'موظف أو حساب مخترق قد يتسبب بأضرار.' }
        ],
        prot: [
          { t: 'مبدأ أقل الصلاحيات', d: 'منح الوصول على أساس الحاجة الوظيفية فقط.' },
          { t: 'التدقيق والمراقبة', d: 'سجلات نشاط مفصلة وإنذارات سلوكية.' }
        ]
      },
      {
        id: 'extranet',
        title: 'الإكسترانت (Extranet)',
        desc: 'تمكين شركاء خارجيين من الوصول المقنن إلى موارد الإنترانت.',
        vul: [
          { t: 'تفويض خاطئ', d: 'صلاحيات غير مضبوطة تكشف موارد داخلية.' },
          { t: 'نقل غير مشفر', d: 'مشاركة بيانات بدون تشفير يعرضها للاعتراض.' }
        ],
        prot: [
          { t: 'IAM وإدارة الصلاحيات', d: 'حلقات مراجعة دورية وتصاريح دقيقة.' },
          { t: 'قنوات مشفرة', d: 'VPN/TLS ومراقبة تبادل البيانات.' }
        ]
      },
      {
        id: 'internet',
        title: 'الإنترنت',
        desc: 'الشبكة العالمية التي تربط مليارات الأجهزة والخوادم.',
        vul: [
          { t: 'التصيد (Phishing)', d: 'حملات خداع تهدف لسرقة بيانات الاعتماد.' },
          { t: 'استغلال ثغرات التطبيقات', d: 'ثغرات في تطبيقات الويب أو الخوادم تُستغل للاختراق.' }
        ],
        prot: [
          { t: 'التوعية وتمكين 2FA', d: 'تدريب المستخدمين واستخدام المصادقة المتعددة العوامل.' },
          { t: 'تحديثات وصيانة أمنية', d: 'استخدام WAF وتطبيق التصحيحات بسرعة.' }
        ]
      }
    ];

    /***** عرض البطاقات وبحث بسيط *****/
    const grid = document.getElementById('grid');
    function renderGrid(filter='') {
      grid.innerHTML = '';
      const q = (filter||'').toLowerCase();
      networks.filter(n => {
        if (!q) return true;
        return n.title.toLowerCase().includes(q) || n.desc.toLowerCase().includes(q) ||
               n.vul.some(v => v.t.toLowerCase().includes(q) || v.d.toLowerCase().includes(q)) ||
               n.prot.some(p => p.t.toLowerCase().includes(q) || p.d.toLowerCase().includes(q));
      }).forEach(n => {
        const div = document.createElement('div'); div.className = 'card ' + n.id;
        const h = document.createElement('h3'); h.textContent = n.title;
        const p = document.createElement('p'); p.textContent = n.desc;
        const btn = document.createElement('button'); btn.className = 'btn'; btn.textContent = 'المزيد';
        btn.onclick = () => openModal(n.id);
        div.appendChild(h); div.appendChild(p); div.appendChild(btn); grid.appendChild(div);
      });
    }
    renderGrid();

    document.getElementById('searchBtn').addEventListener('click', ()=> {
      renderGrid(document.getElementById('searchInput').value.trim());
    });
    document.getElementById('searchInput').addEventListener('keydown', (e)=> { if(e.key==='Enter'){ renderGrid(e.target.value.trim()); } });

    /***** مودال التفاصيل *****/
    const infoModal = document.getElementById('infoModal');
    const modalContent = document.getElementById('modalContent');
    function openModal(id) {
      const n = networks.find(x => x.id === id); if(!n) return;
      let html = `<h2>${n.title}</h2><p style="margin-bottom:12px">${n.desc}</p>`;
      html += '<h3>الثغرات المحتملة وشرحها</h3><ul>';
      n.vul.forEach(v => { html += `<li><strong>${v.t}:</strong> ${v.d}</li>`; });
      html += '</ul><h3>طرق الحماية — خطوات عملية</h3><ul>';
      n.prot.forEach(p => { html += `<li><strong>${p.t}:</strong> ${p.d}</li>`; });
      html += '</ul><h3>نصائح سريعة</h3><ul><li>احتفظ بنسخ احتياطية دورية.</li><li>فعّل التحديثات الآلية عندما أمكن.</li><li>طبق مبدأ أقل الصلاحيات.</li></ul>';
      modalContent.innerHTML = html;
      infoModal.classList.add('open');
    }
    function closeModal() { infoModal.classList.remove('open'); }

    /***** تسجيل الدخول / إنشاء حساب / تسجيل خروج (محاكاة محلي) *****/
    document.getElementById('loginForm').addEventListener('submit', e => {
      e.preventDefault();
      const em = document.getElementById('loginEmail').value.trim();
      const pw = document.getElementById('loginPassword').value.trim();
      if (em && pw) {
        isLoggedIn = true;
        document.getElementById('quizContent').style.display = 'block';
        document.getElementById('quizNotice').style.display = 'none';
        document.getElementById('logoutBtn').style.display = 'inline-block';
        alert('تم تسجيل الدخول بنجاح (محاكاة)');
        showPage('quiz');
      }
    });

    document.getElementById('signupForm').addEventListener('submit', e => {
      e.preventDefault();
      // محاكاة: نطلب من المستخدم تسجيل الدخول بعد إنشاء الحساب
      alert('تم إنشاء الحساب (محاكاة). الرجاء تسجيل الدخول.');
      showPage('login');
    });

    document.getElementById('logoutBtn').addEventListener('click', ()=> {
      isLoggedIn = false;
      document.getElementById('quizContent').style.display = 'none';
      document.getElementById('quizNotice').style.display = 'block';
      document.getElementById('logoutBtn').style.display = 'none';
      showPage('networks');
      alert('تم تسجيل الخروج');
    });

    // تفعيل تبويبات التسجيل/تسجيل الدخول
    document.getElementById('loginFormTab').addEventListener('click', ()=> {
      document.getElementById('loginSection').classList.add('active');
      document.getElementById('signupSection').classList.remove('active');
      document.getElementById('loginFormTab').classList.add('active');
      document.getElementById('signupFormTab').classList.remove('active');
    });
    document.getElementById('signupFormTab').addEventListener('click', ()=> {
      document.getElementById('signupSection').classList.add('active');
      document.getElementById('loginSection').classList.remove('active');
      document.getElementById('signupFormTab').classList.add('active');
      document.getElementById('loginFormTab').classList.remove('active');
    });

    // حالة أولية للعبة
    if (!isLoggedIn) {
      document.getElementById('quizContent').style.display = 'none';
      document.getElementById('quizNotice').style.display = 'block';
      document.getElementById('logoutBtn').style.display = 'none';
    } else {
      document.getElementById('quizContent').style.display = 'block';
      document.getElementById('quizNotice').style.display = 'none';
    }

    /***** بيانات اللعبة — 30 سؤالاً *****/
    const quizData = [
      { q: ' ما هو جهاز التوجيه (Router)?', options: ['يوجه حزم الشبكة بين الشبكات','يحفظ الملفات','يبرد السيرفر'], answer: 'يوجه حزم الشبكة بين الشبكات' },
      { q: ' ما وظيفة السويتش (Switch)?', options: ['يوصل الأجهزة ضمن نفس الشبكة','يفصل الشبكات','يجمع البيانات'], answer: 'يوصل الأجهزة ضمن نفس الشبكة' },
      { q: ' ما الفرق بين المودم والراوتر؟', options: ['المودم يربط بمزود الخدمة والراوتر يوزع داخلياً','لا فرق','الراوتر أسرع فقط'], answer: 'المودم يربط بمزود الخدمة والراوتر يوزع داخلياً' },
      { q: ' ما دور النقطة اللاسلكية (Access Point)?', options: ['توفير اتصال واي فاي للأجهزة','حفظ السجلات','تحليل البيانات'], answer: 'توفير اتصال واي فاي للأجهزة' },
      { q: ' ما وظيفة جدار الحماية (Firewall)?', options: ['منع الوصول غير المصرح والتحكم في المرور','زيادة السرعة','تخزين النسخ الاحتياطي'], answer: 'منع الوصول غير المصرح والتحكم في المرور' },
      { q: ' ما هو DHCP؟', options: ['بروتوكول لتعيين عناوين IP تلقائياً','خادم ويب','أداة أمن'], answer: 'بروتوكول لتعيين عناوين IP تلقائياً' },
      { q: ' ما وظيفة DNS؟', options: ['ترجمة النطاقات إلى عناوين IP','حماية الشبكة','موازنة الحمل'], answer: 'ترجمة النطاقات إلى عناوين IP' },
      { q: ' ما المقصود بـ VPN؟', options: ['شبكة افتراضية مشفرة','خادم تخزين','نوع من السويتش'], answer: 'شبكة افتراضية مشفرة' },
      { q: ' ما هي LAN؟', options: ['شبكة محلية','شبكة عالمية','شبكة شخصية'], answer: 'شبكة محلية' },
      { q: ' ما هي WAN؟', options: ['شبكة عالمية/واسعة','شبكة داخلية فقط','نوع من الأجهزة'], answer: 'شبكة عالمية/واسعة' },
      { q: ' ما هي PAN؟', options: ['شبكة شخصية قصيرة المدى','شبكة حضرية','شبكة دولية'], answer: 'شبكة شخصية قصيرة المدى' },
      { q: ' ما هي MAN؟', options: ['شبكة تغطي مدينة','شبكة محلية صغيرة','شبكة شخصية'], answer: 'شبكة تغطي مدينة' },
      { q: ' ما المقصود بـ WLAN؟', options: ['شبكة لاسلكية محلية','شبكة دولية','شبكة هاتفية'], answer: 'شبكة لاسلكية محلية' },
      { q: ' ماذا يعني WWAN؟', options: ['شبكة خلوية واسعة','شبكة محلية','نوع من الخوادم'], answer: 'شبكة خلوية واسعة' },
      { q: ' ما هو IDS؟', options: ['نظام كشف التسلل','خادم نسخ احتياطي','موزع تحميل'], answer: 'نظام كشف التسلل' },
      { q: ' ما هو IPS؟', options: ['نظام منع الهجمات','خادم DHCP','راوتر قديم'], answer: 'نظام منع الهجمات' },
      { q: ' ما فائدة VLAN؟', options: ['عزل حركة مرور معينة','تسريع الإنترنت','تخزين بيانات'], answer: 'عزل حركة مرور معينة' },
      { q: ' ما هي مصادقة 2FA؟', options: ['مصادقة متعددة العوامل','نسخة احتياطية','نوع من الفيروسات'], answer: 'مصادقة متعددة العوامل' },
      { q: ' ما هي هجمات DDoS؟', options: ['إغراق الخوادم لاستنزاف الموارد','اختراق كلمات المرور فقط','تنظيف السجلات'], answer: 'إغراق الخوادم لاستنزاف الموارد' },
      { q: ' ما دور جدار حماية تطبيقات الويب (WAF)?', options: ['حماية تطبيقات الويب من هجمات شائعة','تسريع الخادم','تشفير البيانات فقط'], answer: 'حماية تطبيقات الويب من هجمات شائعة' },
      { q: ' أي من التالي يعتبر الشبكة العالمية؟', options: ['Internet','Intranet','Extranet'], answer: 'Internet' },
      { q: ' ما أفضل طريقة لحماية شبكة واي فاي منزلية؟', options: ['WPA3 وفصل الضيوف','WEP','ترك الشبكة مفتوحة'], answer: 'WPA3 وفصل الضيوف' },
      { q: ' ما الذي يقلل من نجاح هجمات التصيد؟', options: ['التوعية وتمكين 2FA','فتح كل المرفقات','استخدام نفس كلمة مرور لكل الخدمات'], answer: 'التوعية وتمكين 2FA' },
      { q: ' لماذا تحديثات firmware للأجهزة مهمة؟', options: ['سد ثغرات أمنية','زيادة المساحة','تغيير اللغة'], answer: 'سد ثغرات أمنية' },
      { q: ' ما الذي يحمي الروابط بين فروع المؤسسة؟', options: ['VPN/تشفير','تركها بدون تشفير','استخدام FTP فقط'], answer: 'VPN/تشفير' },
      { q: ' ماذا تفعل مراقبة السجلات؟', options: ['تكشف الحوادث وتحللها','تزيد السرعة','تمحو البيانات'], answer: 'تكشف الحوادث وتحللها' },
      { q: ' ما أفضل ممارسة عند توصيل USB خارجي؟', options: ['فحصه قبل الاستخدام','فتحه فوراً','مشاركة الملفات بدون فحص'], answer: 'فحصه قبل الاستخدام' },
      { q: ' أي إجراء يقلل من ثغرة نقاط الوصول المزيفة؟', options: ['استخدام شهادات وتقوية المصادقة','تشغيل WPS','استخدام اسم شبكة افتراضي'], answer: 'استخدام شهادات وتقوية المصادقة' },
      { q: ' ماذا تفعل عند اكتشاف حساب داخلي مريب؟', options: ['إيقاف الوصول ومراجعة الأنشطة','تجاهله','منحه صلاحيات إضافية'], answer: 'إيقاف الوصول ومراجعة الأنشطة' },
      { q: ' ما أفضل ممارسة لحماية الخوادم؟', options: ['تحديث دوري وتطبيق جدران حماية ونظام كشف التسلل','تركها كما هي','استخدام كلمات مرور بسيطة'], answer: 'تحديث دوري وتطبيق جدران حماية ونظام كشف التسلل' }
    ];

  
    const quizEl = document.getElementById('quiz');
    function loadQuiz(){
      quizEl.innerHTML = '';
      quizData.forEach((item,i)=>{
        const block = document.createElement('div'); block.className = 'quiz-block';
        const q = document.createElement('div'); q.className = 'quiz-question'; q.textContent = (i+1)+'. '+item.q; block.appendChild(q);
        const opts = document.createElement('div'); opts.className = 'quiz-options';
        item.options.forEach(opt=>{
          const id = 'q'+i+'-'+opt.replace(/\s+/g,'_').replace(/[^\w\-]/g,'');
          const label = document.createElement('label');
          label.innerHTML = `<input type="radio" name="q${i}" value="${opt}" id="${id}"> ${opt}`;
          opts.appendChild(label);
        });
        block.appendChild(opts);
        quizEl.appendChild(block);
      });
    }
    loadQuiz();

    // التحقق من الإجابات
    document.getElementById('checkQuiz').addEventListener('click', ()=> {
      if (!isLoggedIn) { alert('يجب تسجيل الدخول قبل التحقق من الإجابات'); showPage('login'); return; }
      let score = 0;
      quizData.forEach((item,i)=> {
        const sel = document.querySelector(`input[name=q${i}]:checked`);
        if (sel && sel.value === item.answer) score++;
      });
      document.getElementById('quizResult').textContent = 'درجتك: ' + score + ' من ' + quizData.length;
    });

    // إعادة اللّعبة
    document.getElementById('restartQuiz').addEventListener('click', ()=> {
      if (!isLoggedIn) { alert('يجب تسجيل الدخول للعب'); showPage('login'); return; }
      loadQuiz();
      document.getElementById('quizResult').textContent = '';
    });

    // زر الرجوع داخل صفحة اللعبة
    document.getElementById('backToNetworks').addEventListener('click', ()=> {
      document.getElementById('quizResult').textContent = '';
      showPage('networks');
    });

    /***** افتح المودال عند الضغط على زر المزيد داخل كل بطاقة *****/
    // (المنطق موجود أعلاه في openModal)

    // عرض زر الرجوع في الهيدر فقط عندما نكون في صفحات معينة
    (function initHeaderBack(){
      // عند التنقل، يتم التحكم بالزر ضمن showPage
      // عرض/إخفاء حسب الحالة الحالية
      toggleHeaderBackBtn(false);
    })();

  </script>
</body>
</html>
